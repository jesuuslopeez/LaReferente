<section class="home">
  <!-- Hero Slider -->
  <section
    class="hero"
    role="region"
    aria-roledescription="carrusel"
    aria-label="Carrusel de destacados"
    (keydown)="onKeydown($event)"
    tabindex="0"
  >
    <section class="hero__slides" aria-live="polite">
      @for (slide of heroSlides; track slide.id; let i = $index) {
        <article
          class="hero__slide"
          [class.hero__slide--active]="currentSlide() === i"
          role="group"
          aria-roledescription="slide"
          [attr.aria-label]="'Slide ' + (i + 1) + ' de ' + heroSlides.length"
          [attr.aria-hidden]="currentSlide() !== i"
        >
          <span class="hero__bg-image" [style.background-image]="'url(' + slide.image + ')'" aria-hidden="true"></span>
          <span class="hero__overlay" aria-hidden="true"></span>
          <section class="hero__content">
            <h1 class="hero__title">{{ slide.title }}</h1>
            <p class="hero__subtitle">{{ slide.subtitle }}</p>
            <a [routerLink]="slide.link" class="hero__btn">
              {{ slide.linkText }}
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </a>
          </section>
        </article>
      }
    </section>

    <!-- Controles del slider -->
    <button class="hero__nav hero__nav--prev" (click)="prevSlide()" aria-label="Anterior">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
    </button>
    <button class="hero__nav hero__nav--next" (click)="nextSlide()" aria-label="Siguiente">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </button>

    <!-- Indicadores y controles -->
    <section class="hero__controls">
      <!-- Botón pausa/play -->
      <button
        class="hero__pause-btn"
        (click)="toggleAutoplay()"
        [attr.aria-label]="isPaused() ? 'Reanudar carrusel' : 'Pausar carrusel'"
      >
        @if (isPaused()) {
          <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M8 5v14l11-7z"/>
          </svg>
        } @else {
          <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
          </svg>
        }
      </button>

      <!-- Indicadores -->
      <section class="hero__indicators">
        @for (slide of heroSlides; track slide.id; let i = $index) {
          <button
            class="hero__indicator"
            [class.hero__indicator--active]="currentSlide() === i"
            (click)="goToSlide(i)"
            [attr.aria-label]="'Ir a slide ' + (i + 1)"
          ></button>
        }
      </section>
    </section>
  </section>

  <!-- Noticias Destacadas -->
  <section class="featured-news">
    <header class="section-header">
      <h2 class="section-header__title">Noticias Destacadas</h2>
      <a routerLink="/noticias" class="section-header__link" aria-label="Ver todas las noticias">Ver todas</a>
    </header>

    @if (loadingNews()) {
      <section class="featured-news__loading">
        <span class="spinner" aria-hidden="true"></span>
      </section>
    } @else if (featuredNews().length === 0) {
      <p class="featured-news__empty">No hay noticias destacadas</p>
    } @else {
      <section class="featured-news__grid">
        @for (news of featuredNews(); track news.id) {
          <a [routerLink]="['/noticias', news.id]" class="news-card" [attr.aria-label]="'Leer noticia: ' + news.titulo">
            <span class="news-card__image-container" aria-hidden="true">
              @if (news.imagenPrincipalUrl) {
                <span class="news-card__image" [style.background-image]="'url(' + news.imagenPrincipalUrl + ')'"></span>
              } @else {
                <span class="news-card__placeholder">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />
                  </svg>
                </span>
              }
              @if (news.destacada) {
                <span class="news-card__badge">Destacada</span>
              }
            </span>
            <section class="news-card__content" aria-hidden="true">
              <span class="news-card__date">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
                {{ formatDate(news.fechaPublicacion) }}
              </span>
              <p class="news-card__title" role="heading" aria-level="3">{{ news.titulo }}</p>
              @if (news.subtitulo) {
                <p class="news-card__excerpt">{{ news.subtitulo }}</p>
              }
              <span class="news-card__read-more">
                Leer más
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                </svg>
              </span>
            </section>
          </a>
        }
      </section>
    }
  </section>

  <!-- Sección Destacados -->
  <section class="highlights">
    <header class="section-header section-header--center">
      <h2 class="section-header__title">Destacados</h2>
    </header>

    <section class="highlights__grid">
      <!-- Competiciones -->
      <article class="highlight-card">
        <p class="highlight-card__title" role="heading" aria-level="3">Competiciones</p>

        @if (loadingCompetitions()) {
          <section class="highlight-card__loading">
            <span class="spinner spinner--small" aria-hidden="true"></span>
          </section>
        } @else {
          <section class="highlight-card__items">
            @for (comp of competitions(); track comp.id) {
              <a [routerLink]="['/competiciones', comp.id]" class="item-badge" [attr.aria-label]="'Ver competición ' + comp.nombre">
                @if (comp.logoUrl) {
                  <span class="item-badge__logo" [style.background-image]="'url(' + comp.logoUrl + ')'" aria-hidden="true"></span>
                } @else {
                  <span class="item-badge__placeholder">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
                    </svg>
                  </span>
                }
                <span class="item-badge__name" aria-hidden="true">{{ comp.nombre }}</span>
              </a>
            }
          </section>
        }

        <footer class="highlight-card__footer">
          <a routerLink="/competiciones" class="highlight-card__link" aria-label="Ver más competiciones">
            Ver más
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </a>
        </footer>
      </article>

      <!-- Jugadores -->
      <article class="highlight-card">
        <p class="highlight-card__title" role="heading" aria-level="3">Jugadores</p>

        @if (loadingPlayers()) {
          <section class="highlight-card__loading">
            <span class="spinner spinner--small" aria-hidden="true"></span>
          </section>
        } @else {
          <section class="highlight-card__items highlight-card__items--players">
            @for (player of players(); track player.id) {
              <a [routerLink]="['/jugadores', player.id]" class="player-mini" [attr.aria-label]="'Ver jugador ' + player.nombre">
                @if (player.fotoUrl) {
                  <span class="player-mini__photo" [style.background-image]="'url(' + player.fotoUrl + ')'" aria-hidden="true"></span>
                } @else {
                  <span class="player-mini__photo player-mini__photo--placeholder" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg>
                  </span>
                }
                <span class="player-mini__name" aria-hidden="true">{{ player.nombre }}</span>
              </a>
            }
          </section>
        }

        <footer class="highlight-card__footer">
          <a routerLink="/jugadores" class="highlight-card__link" aria-label="Ver más jugadores">
            Ver más
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </a>
        </footer>
      </article>

      <!-- Equipos -->
      <article class="highlight-card">
        <p class="highlight-card__title" role="heading" aria-level="3">Equipos</p>

        @if (loadingTeams()) {
          <section class="highlight-card__loading">
            <span class="spinner spinner--small" aria-hidden="true"></span>
          </section>
        } @else {
          <section class="highlight-card__items">
            @for (team of teams(); track team.id) {
              <a [routerLink]="['/equipos', team.id]" class="item-badge" [attr.aria-label]="'Ver equipo ' + team.nombre">
                @if (team.logoUrl) {
                  <span class="item-badge__logo" [style.background-image]="'url(' + team.logoUrl + ')'" aria-hidden="true"></span>
                } @else {
                  <span class="item-badge__placeholder">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9" />
                    </svg>
                  </span>
                }
                <span class="item-badge__name" aria-hidden="true">{{ team.nombre }}</span>
              </a>
            }
          </section>
        }

        <footer class="highlight-card__footer">
          <a routerLink="/equipos" class="highlight-card__link" aria-label="Ver más equipos">
            Ver más
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </a>
        </footer>
      </article>
    </section>
  </section>

  <!-- Calendario -->
  <section class="calendar-section">
    <header class="section-header">
      <h2 class="section-header__title">Calendario</h2>
      <a routerLink="/calendario" class="section-header__link" aria-label="Ver calendario completo">Ver completo</a>
    </header>

    <a routerLink="/calendario" class="calendar-card">
      <section class="calendar-card__icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
        </svg>
      </section>
      <section class="calendar-card__content">
        <p class="calendar-card__title" role="heading" aria-level="3">Próximos partidos</p>
        <p class="calendar-card__desc">Consulta el calendario completo de partidos, resultados y clasificaciones de todas las competiciones.</p>
      </section>
      <svg class="calendar-card__arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </a>
  </section>
</section>
