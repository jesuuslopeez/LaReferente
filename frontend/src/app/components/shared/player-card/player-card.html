<article class="player-card">
  <!-- Cabecera con foto y dorsal -->
  <header class="player-card__header">
    <section class="player-card__photo-container">
      <img
        class="player-card__photo"
        [src]="fotoSrc"
        [alt]="nombreCompleto"
        loading="lazy"
        (error)="onImageError()"
      />
      <span class="player-card__name-badge">{{ nombreCompleto }}</span>
    </section>
    @if (dorsal()) {
      <span class="player-card__dorsal">{{ dorsal() }}</span>
    }
  </header>

  <!-- Cuerpo con información en grid 2x2 -->
  <section class="player-card__body">
    <section class="player-card__info-grid">
      <!-- Fila 1: Equipo | Nacionalidad -->
      @if (equipoNombre() && equipoId()) {
        <article class="player-card__info-item">
          <img
            [src]="getTeamLogoSmall(equipoId()!)"
            [alt]="equipoNombre()!"
            class="player-card__team-logo"
            (error)="onTeamLogoError($event)"
          />
          <span>{{ equipoNombre() }}</span>
        </article>
      } @else {
        <!-- Placeholder cuando no hay equipo para mantener el grid alineado -->
        <article class="player-card__info-item">
          <span class="player-card__no-team">Sin equipo</span>
        </article>
      }

      @if (nacionalidad()) {
        <article class="player-card__info-item player-card__info-item--right">
          <span [class]="'fi fi-' + getFlagCode(nacionalidad()) + ' player-card__flag'"></span>
          <span>{{ nacionalidad() }}</span>
        </article>
      }

      <!-- Fila 2: Posicion | Edad -->
      <article class="player-card__info-item">
        <svg class="player-card__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
        </svg>
        <span>{{ posicionTexto() }}</span>
      </article>

      @if (edad()) {
        <article class="player-card__info-item player-card__info-item--right">
          <svg class="player-card__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
          </svg>
          <span>{{ edad() }} años</span>
        </article>
      }
    </section>
  </section>

  <!-- Acciones -->
  <section class="player-card__actions">
    <a [routerLink]="['/jugadores', id()]" class="player-card__button player-card__button--primary">
      Ver perfil
    </a>
    @if (equipoNombre() && !hideTeamButton()) {
      <a [routerLink]="['/equipos', equipoId()]" class="player-card__button player-card__button--secondary">
        Ver equipo
      </a>
    }
  </section>
</article>
