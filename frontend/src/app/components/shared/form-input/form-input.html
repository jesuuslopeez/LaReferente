<section class="form-field">
  @if (label) {
    <label [for]="inputId" class="form-field__label">
      {{ label }}@if (required) {<span class="form-field__required">*</span>}
    </label>
  }

  <section class="form-field__input-wrapper">
    @if (icon) {
      <svg class="form-field__input-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="icon" />
      </svg>
    }

    @if (control) {
      <input
        class="form-field__input"
        [type]="type"
        [id]="inputId"
        [name]="name"
        [placeholder]="placeholder"
        [required]="required"
        [formControl]="control"
        [attr.aria-describedby]="errorMessage ? inputId + '-error' : (helpText ? inputId + '-help' : null)"
        [attr.aria-invalid]="errorMessage ? 'true' : null"
      />
    } @else {
      <input
        class="form-field__input"
        [type]="type"
        [id]="inputId"
        [name]="name"
        [placeholder]="placeholder"
        [required]="required"
        [attr.aria-describedby]="errorMessage ? inputId + '-error' : (helpText ? inputId + '-help' : null)"
        [attr.aria-invalid]="errorMessage ? 'true' : null"
      />
    }
  </section>

  @if (helpText) {
    <small [id]="inputId + '-help'" class="form-field__help-text">{{ helpText }}</small>
  }

  @if (errorMessage) {
    <span [id]="inputId + '-error'" class="form-field__error-message" role="alert">{{ errorMessage }}</span>
  }
</section>
